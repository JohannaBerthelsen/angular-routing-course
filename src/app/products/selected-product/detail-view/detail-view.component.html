<div class="detail">
  @let selectedPie = this.pieService.selectedPie.value();
  @let loading = this.pieService.selectedPie.isLoading();
  @let error = this.pieService.selectedPie.error();
@if (selectedPie) {
    <h3>{{ selectedPie.title }}</h3>
    <div class="image-wrapper">
      <img [src]="selectedPie.image" [alt]="selectedPie.title" />
      <div class="description">
        <p>{{ selectedPie.description }}</p>
        <h4>Ingredients: @for (ingredient of selectedPie.ingredients; track ingredient) {
          <span class="ingredient">{{ ingredient }}</span>
        }</h4>
        <p class="price">Price: <span>{{ selectedPie.price }}</span></p>
      </div>
    </div>
    <button mat-raised-button (click)="cartService.addCartItem(selectedPie.id)">Add To Cart</button>
  } @else if(loading) {
    <div>
      <h3>Loading...</h3>
      <div class="image-wrapper">Your delicious pie is on the way</div>
    </div>
  }@else if(error) {
    <div>
      <h3>Uh Oh!</h3>
      <div class="image-wrapper">The recipe was wrong try again!</div>
    </div>
  }
</div>
